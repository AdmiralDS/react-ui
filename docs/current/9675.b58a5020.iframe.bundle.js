"use strict";(self.webpackChunk_admiral_ds_react_ui=self.webpackChunk_admiral_ds_react_ui||[]).push([[9675],{"./src/components/Menu/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>Menu,L:()=>getItemHeight});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Scrollbar=__webpack_require__("./src/components/Scrollbar/index.tsx"),MenuItem=__webpack_require__("./src/components/Menu/MenuItem.tsx"),keyboardKey=__webpack_require__("./src/components/common/keyboardKey.js"),usePrevious=__webpack_require__("./src/components/common/hooks/usePrevious.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}function _templateObject(){var data=_tagged_template_literal([`
  display: flex;
  flex: 0 0 auto;
`]);return _templateObject=function _templateObject(){return data},data}var Spacer=styled_components_browser_esm.Ay.div(_templateObject()),VirtualBody=function(param){var scrollContainerRef=param.scrollContainerRef,itemHeight=param.itemHeight,_param_rowCount=param.rowCount,rowCount=void 0===_param_rowCount?6:_param_rowCount,_param_aheadItemsCount=param.aheadItemsCount,aheadItemsCount=void 0===_param_aheadItemsCount?3:_param_aheadItemsCount,model=param.model,activeId=param.activeId,selected=param.selected,onRenderItem=param.onRenderItem,_useState=_sliced_to_array((0,react.useState)(0),2),scrollTop=_useState[0],setScrollTop=_useState[1],_useState1=_sliced_to_array((0,react.useState)({startIndex:0,endIndex:rowCount,topPadding:"",bottomPadding:"",needAddListener:!1}),2),partition=_useState1[0],setPartition=_useState1[1],prevValue=(0,usePrevious.Z)({activeId:activeId}),handleScroll=(0,react.useCallback)(function(e){requestAnimationFrame(function(){e.target&&setScrollTop(e.target.scrollTop)})},[scrollContainerRef]);(0,react.useEffect)(function(){var scrollContainer=scrollContainerRef.current;return setScrollTop((null==scrollContainer?void 0:scrollContainer.scrollTop)||0),null==scrollContainer||scrollContainer.addEventListener("scroll",handleScroll),function(){return null==scrollContainer?void 0:scrollContainer.removeEventListener("scroll",handleScroll)}},[handleScroll]),(0,react.useEffect)(function(){partition.needAddListener&&(setTimeout(function(){var _scrollContainerRef_current;return null==scrollContainerRef||null==(_scrollContainerRef_current=scrollContainerRef.current)?void 0:_scrollContainerRef_current.addEventListener("scroll",handleScroll)}),setPartition(_object_spread_props(_object_spread({},partition),{needAddListener:!1})))},[partition,scrollContainerRef]);var calcPartition=(0,react.useCallback)(function(start){var itemCount=model.length,startIndex=Math.max(0,start),visibleNodeCount=rowCount+2*aheadItemsCount;visibleNodeCount=Math.min(itemCount-startIndex,visibleNodeCount);var endIndex=startIndex+visibleNodeCount,topPadding="".concat(startIndex*itemHeight,"px"),bottomPadding="".concat((itemCount-startIndex-visibleNodeCount)*itemHeight,"px");return{startIndex:startIndex,endIndex:endIndex,topPadding:topPadding,bottomPadding:bottomPadding}},[itemHeight,aheadItemsCount,model,rowCount]);(0,react.useEffect)(function(){setPartition(_object_spread_props(_object_spread({},calcPartition(Math.floor(scrollTop/itemHeight-aheadItemsCount))),{needAddListener:!1}))},[scrollTop,calcPartition]),(0,react.useEffect)(function(){if(activeId&&prevValue){if(prevValue.activeId!==activeId){var _scrollContainerRef_current,index=model.findIndex(function(item){return item.id===activeId});-1!==index&&(index<partition.startIndex||index>partition.endIndex)&&(null==scrollContainerRef||null==(_scrollContainerRef_current=scrollContainerRef.current)||_scrollContainerRef_current.removeEventListener("scroll",handleScroll),setPartition(_object_spread_props(_object_spread({},calcPartition(index)),{needAddListener:!0})))}}},[activeId,partition,calcPartition,scrollContainerRef]);var visibleChildren=(0,react.useMemo)(function(){return _to_consumable_array(model).slice(partition.startIndex,partition.endIndex).map(function(item,index){return null==onRenderItem?void 0:onRenderItem(item,index)})},[model,activeId,selected,partition]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Spacer,{style:{minHeight:partition.topPadding}}),visibleChildren,(0,jsx_runtime.jsx)(Spacer,{style:{minHeight:partition.bottomPadding}})]})};try{VirtualBody.displayName="VirtualBody",VirtualBody.__docgenInfo={description:"",displayName:"VirtualBody",props:{scrollContainerRef:{defaultValue:null,description:"ссылка на контейнер, в котором находится Menu",name:"scrollContainerRef",required:!0,type:{name:"RefObject<HTMLElement>"}},itemHeight:{defaultValue:null,description:"Высота 1 элемента меню",name:"itemHeight",required:!0,type:{name:"number"}},rowCount:{defaultValue:{value:"6"},description:"Максимальное количество строк в меню",name:"rowCount",required:!1,type:{name:"number"}},aheadItemsCount:{defaultValue:{value:"3"},description:"Количество отображаемых строк в начале и в конце виртуального списка",name:"aheadItemsCount",required:!1,type:{name:"number"}},model:{defaultValue:null,description:"Модель данных, с рендер-пропсами",name:"model",required:!0,type:{name:"MenuModelItemProps[]"}},activeId:{defaultValue:null,description:"Id активного элемента",name:"activeId",required:!1,type:{name:"string | null"}},selected:{defaultValue:null,description:"Id выбранных элементов",name:"selected",required:!0,type:{name:"string[]"}},onRenderItem:{defaultValue:null,description:"render-метод для отрисовки пункта меню",name:"onRenderItem",required:!1,type:{name:"((item: MenuModelItemProps, index: number) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/VirtualBody.tsx#VirtualBody"]={docgenInfo:VirtualBody.__docgenInfo,name:"VirtualBody",path:"src/components/Menu/VirtualBody.tsx#VirtualBody"})}catch(__react_docgen_typescript_loader_error){}var refSetter=__webpack_require__("./src/components/common/utils/refSetter.ts"),DropdownProvider=__webpack_require__("./src/components/DropdownProvider.tsx"),PositionInPortal=__webpack_require__("./src/components/PositionInPortal.tsx"),useClickOutside=__webpack_require__("./src/components/common/hooks/useClickOutside.ts"),parseShadowFromTheme=__webpack_require__("./src/components/common/utils/parseShadowFromTheme.ts"),borderRadius=__webpack_require__("./src/components/themes/borderRadius.ts"),throttle=__webpack_require__("./src/components/common/utils/throttle.ts");function utils_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function utils_array_without_holes(arr){if(Array.isArray(arr))return utils_array_like_to_array(arr)}function utils_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function utils_non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function utils_to_consumable_array(arr){return utils_array_without_holes(arr)||utils_iterable_to_array(arr)||utils_unsupported_iterable_to_array(arr)||utils_non_iterable_spread()}function utils_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return utils_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return utils_array_like_to_array(o,minLen)}}function getPosition(anchorElement,containerElement,renderDirection){var anchorElementRect=anchorElement.getBoundingClientRect(),containerRect=containerElement.getBoundingClientRect(),isEnoughOnRight=document.documentElement.clientWidth-anchorElementRect.right>containerRect.width,isEnoughOnLeft=anchorElementRect.left>containerRect.width,side="right"===renderDirection?!isEnoughOnRight&&isEnoughOnLeft?"left":"right":!isEnoughOnLeft&&isEnoughOnRight?"right":"left";return document.documentElement.clientHeight-anchorElementRect.top>containerRect.height-1?{position:"".concat(side,"Bottom")}:{position:side,bottomOffset:-(document.documentElement.clientHeight-anchorElementRect.top-containerRect.height)+8}}var findModelItem=function(items,id){for(var i=0;i<items.length;i++){var item=items[i];if(item.id===id)return item;if(item.subItems&&item.subItems.length>0){var subItem=findModelItem(item.subItems,id);if(subItem)return subItem}}},hasSelectedChildren=function(item,selected){return!!item.subItems&&item.subItems.some(function(item){return selected.includes(item.id)||hasSelectedChildren(item,selected)})},valueToArray=function(value){return Array.isArray(value)?utils_to_consumable_array(value):[value]};function SubMenuContainer_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function SubMenuContainer_array_with_holes(arr){if(Array.isArray(arr))return arr}function SubMenuContainer_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SubMenuContainer_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function SubMenuContainer_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function SubMenuContainer_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){SubMenuContainer_define_property(target,key,source[key])})}return target}function SubMenuContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function SubMenuContainer_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SubMenuContainer_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=_object_without_properties_loose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function SubMenuContainer_sliced_to_array(arr,i){return SubMenuContainer_array_with_holes(arr)||SubMenuContainer_iterable_to_array_limit(arr,i)||SubMenuContainer_unsupported_iterable_to_array(arr,i)||SubMenuContainer_non_iterable_rest()}function SubMenuContainer_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function SubMenuContainer_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return SubMenuContainer_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SubMenuContainer_array_like_to_array(o,minLen)}}function SubMenuContainer_templateObject(){var data=SubMenuContainer_tagged_template_literal([`
  display: inline-block;
  position: relative;
  cursor: pointer;
`]);return SubMenuContainer_templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=SubMenuContainer_tagged_template_literal([`
  display: flex;
  flex-wrap: nowrap;
  `,`
`]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=SubMenuContainer_tagged_template_literal([`
  pointer-events: none;
  height: 100%;
  width: 100%;
  flex: 0 0 auto;
`]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=SubMenuContainer_tagged_template_literal([`
  position: relative;
  align-self: flex-start;
`]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=SubMenuContainer_tagged_template_literal([`
  background-color: var(--admiral-color-Special_ElevatedBG, `,`);
  color: var(--admiral-color-Neutral_Neutral90, `,`);
  box-shadow: var(--admiral-box-shadow-Shadow08, `,`);
  border-radius: var(--admiral-border-radius-Medium, `,`);
  overflow: hidden;
  box-sizing: border-box;
`]);return _templateObject4=function _templateObject(){return data},data}var AnchorWrapper=styled_components_browser_esm.Ay.div(SubMenuContainer_templateObject()),Portal=(0,styled_components_browser_esm.Ay)(PositionInPortal.l)(_templateObject1(),function(param){var $flexDirection=param.$flexDirection;return $flexDirection?"flex-direction: ".concat($flexDirection,";"):"flex-direction: column;"}),FakeTarget=styled_components_browser_esm.Ay.div(_templateObject2()),SubMenuWrapper=styled_components_browser_esm.Ay.div(_templateObject3()),InnerContainer=styled_components_browser_esm.Ay.div(_templateObject4(),function(p){return p.theme.color["Special/Elevated BG"]},function(p){return p.theme.color["Neutral/Neutral 90"]},function(p){return(0,parseShadowFromTheme.C)(p.theme.shadow["Shadow 08"])},function(p){return(0,borderRadius.VM)(p.theme.shape)}),SubMenuContainer=function(_param){var targetElement=_param.targetElement,children=_param.children,onClickOutside=_param.onClickOutside,_param_defaultRenderDirection=_param.defaultRenderDirection,defaultRenderDirection=void 0===_param_defaultRenderDirection?"right":_param_defaultRenderDirection,props=_object_without_properties(_param,["targetElement","children","onClickOutside","defaultRenderDirection"]),rootRef=(0,react.useContext)(DropdownProvider.rO).rootRef,wrapperRef=(0,react.useRef)(null),_useState=SubMenuContainer_sliced_to_array((0,react.useState)(null),2),recalculation=_useState[0],startRecalculation=_useState[1],_useState1=SubMenuContainer_sliced_to_array((0,react.useState)("row"),2),portalFlexDirection=_useState1[0],setPortalFlexDirection=_useState1[1];(0,react.useLayoutEffect)(function(){var _throttle=SubMenuContainer_sliced_to_array((0,throttle.n)(function(){startRecalculation({})},100),2),listener=_throttle[0],freeResources=_throttle[1];return addEventListener("resize",listener),addEventListener("scroll",listener),function(){removeEventListener("resize",listener),removeEventListener("scroll",listener),freeResources()}});var _useDropdown=(0,DropdownProvider.BK)(wrapperRef),addDropdown=_useDropdown.addDropdown,removeDropdown=_useDropdown.removeDropdown,dropdowns=_useDropdown.dropdowns;return(0,react.useLayoutEffect)(function(){return null==addDropdown||addDropdown(wrapperRef),function(){null==removeDropdown||removeDropdown(wrapperRef)}},[]),(0,useClickOutside.L)([wrapperRef],function(e){targetElement&&!targetElement.contains(e.target)&&(0,DropdownProvider.TT)(e,dropdowns)&&(null==onClickOutside||onClickOutside(e))}),(0,react.useLayoutEffect)(function(){var wrapperElement=wrapperRef.current;if(targetElement&&wrapperElement){var _getPosition=getPosition(targetElement,wrapperElement,defaultRenderDirection),position=_getPosition.position,_getPosition_bottomOffset=_getPosition.bottomOffset,bottomOffset=void 0===_getPosition_bottomOffset?0:_getPosition_bottomOffset;switch(position){case"right":setPortalFlexDirection("row"),wrapperElement.style.bottom="".concat(bottomOffset,"px");break;case"left":setPortalFlexDirection("row-reverse"),wrapperElement.style.bottom="".concat(bottomOffset,"px");break;case"rightBottom":default:setPortalFlexDirection("row"),wrapperElement.style.bottom="8px";break;case"leftBottom":setPortalFlexDirection("row-reverse"),wrapperElement.style.bottom="8px"}}},[targetElement,recalculation]),targetElement&&(0,jsx_runtime.jsx)(AnchorWrapper,{children:(0,jsx_runtime.jsxs)(Portal,{targetElement:targetElement,rootRef:rootRef,$flexDirection:portalFlexDirection,fullContainerWidth:!1,children:[(0,jsx_runtime.jsx)(FakeTarget,{}),(0,jsx_runtime.jsx)(SubMenuWrapper,SubMenuContainer_object_spread_props(SubMenuContainer_object_spread({ref:wrapperRef},props),{children:(0,jsx_runtime.jsx)(InnerContainer,{children:children})}))]})})};SubMenuContainer.displayName="SubMenu";try{AnchorWrapper.displayName="AnchorWrapper",AnchorWrapper.__docgenInfo={description:"",displayName:"AnchorWrapper",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/SubMenuContainer.tsx#AnchorWrapper"]={docgenInfo:AnchorWrapper.__docgenInfo,name:"AnchorWrapper",path:"src/components/Menu/SubMenuContainer.tsx#AnchorWrapper"})}catch(__react_docgen_typescript_loader_error){}try{Portal.displayName="Portal",Portal.__docgenInfo={description:"",displayName:"Portal",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/SubMenuContainer.tsx#Portal"]={docgenInfo:Portal.__docgenInfo,name:"Portal",path:"src/components/Menu/SubMenuContainer.tsx#Portal"})}catch(__react_docgen_typescript_loader_error){}try{FakeTarget.displayName="FakeTarget",FakeTarget.__docgenInfo={description:"",displayName:"FakeTarget",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/SubMenuContainer.tsx#FakeTarget"]={docgenInfo:FakeTarget.__docgenInfo,name:"FakeTarget",path:"src/components/Menu/SubMenuContainer.tsx#FakeTarget"})}catch(__react_docgen_typescript_loader_error){}try{SubMenuContainer.displayName="SubMenu",SubMenuContainer.__docgenInfo={description:"",displayName:"SubMenu",props:{targetElement:{defaultValue:null,description:"Пункт меню, относительно которого будет позиционироваться",name:"targetElement",required:!0,type:{name:"HTMLElement | null"}},onClickOutside:{defaultValue:null,description:"Обработчик события при клике вне компонента",name:"onClickOutside",required:!1,type:{name:"((e: Event) => void)"}},defaultRenderDirection:{defaultValue:{value:"right"},description:"Сторона от родительского меню, в которой будет появляться дочернее меню при наличии места",name:"defaultRenderDirection",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/SubMenuContainer.tsx#SubMenu"]={docgenInfo:SubMenu.__docgenInfo,name:"SubMenu",path:"src/components/Menu/SubMenuContainer.tsx#SubMenu"})}catch(__react_docgen_typescript_loader_error){}var splitDataAttributes=__webpack_require__("./src/components/common/utils/splitDataAttributes.ts");function Menu_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Menu_array_with_holes(arr){if(Array.isArray(arr))return arr}function Menu_array_without_holes(arr){if(Array.isArray(arr))return Menu_array_like_to_array(arr)}function Menu_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Menu_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function Menu_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function Menu_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Menu_non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Menu_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){Menu_define_property(target,key,source[key])})}return target}function Menu_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function Menu_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Menu_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function Menu_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=Menu_object_without_properties_loose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Menu_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function Menu_sliced_to_array(arr,i){return Menu_array_with_holes(arr)||Menu_iterable_to_array_limit(arr,i)||Menu_unsupported_iterable_to_array(arr,i)||Menu_non_iterable_rest()}function Menu_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function Menu_to_consumable_array(arr){return Menu_array_without_holes(arr)||Menu_iterable_to_array(arr)||Menu_unsupported_iterable_to_array(arr)||Menu_non_iterable_spread()}function Menu_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return Menu_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Menu_array_like_to_array(o,minLen)}}function Menu_templateObject(){var data=Menu_tagged_template_literal([`
  max-height: `,`;
`]);return Menu_templateObject=function _templateObject(){return data},data}function Menu_templateObject1(){var data=Menu_tagged_template_literal([`
  overflow: hidden;
  position: relative;

  padding: 0;
  `,`;
  `,`;
  box-sizing: border-box;
  display: flex;

  flex-direction: column;
  align-items: stretch;
  pointer-events: initial;
  background-color: var(--admiral-color-Special_ElevatedBG, `,`);
  max-width: calc(100vw - 32px);
  border-color: transparent;
  &:focus-visible {
    border: 0;
    outline: none;
  }
`]);return Menu_templateObject1=function _templateObject(){return data},data}function Menu_templateObject2(){var data=Menu_tagged_template_literal([`
  position: relative;
  `,`;
  `,`;
  margin: 0;
  appearance: none;
  flex: 1 1 auto;
  border: none;
  box-sizing: border-box;
  `,`;
  `,`;
`]);return Menu_templateObject2=function _templateObject(){return data},data}var getItemHeight=function(dimension){switch(dimension){case"l":default:return 48;case"m":return 40;case"s":return 32}},menuListHeights=(0,styled_components_browser_esm.AH)(Menu_templateObject(),function(param){var $dimension=param.$dimension,$rowCount=param.$rowCount;return"min(calc(100vh - 16px), ".concat(getItemHeight($dimension)*$rowCount+16,"px)")}),Wrapper=styled_components_browser_esm.Ay.div(Menu_templateObject1(),function(p){return p.$hasTopPanel?"padding-top: 8px":""},function(p){return p.$hasBottomPanel?"padding-bottom: 8px":""},function(p){return p.theme.color["Special/Elevated BG"]}),StyledScrollContainer=(0,styled_components_browser_esm.Ay)(Scrollbar.P)(Menu_templateObject2(),function(p){return p.$hasTopPanel?"":"padding-top: 8px"},function(p){return p.$hasBottomPanel?"":"padding-bottom: 8px"},menuListHeights,function(p){return p.$maxHeight?"max-height: ".concat(p.$maxHeight):""}),Menu=(0,react.forwardRef)(function(_param,ref){var activeItem,model=_param.model,defaultSelected=_param.defaultSelected,selected=_param.selected,preselected=_param.preselected,active=_param.active,onPreselectItem=_param.onPreselectItem,onSelectItem=_param.onSelectItem,onDeselectItem=_param.onDeselectItem,onActivateItem=_param.onActivateItem,renderTopPanel=_param.renderTopPanel,renderBottomPanel=_param.renderBottomPanel,_param_dimension=_param.dimension,dimension=void 0===_param_dimension?"l":_param_dimension,_param_multiSelection=_param.multiSelection,multiSelection=void 0!==_param_multiSelection&&_param_multiSelection,_param_disableSelectedOptionHighlight=_param.disableSelectedOptionHighlight,onForwardCycleApprove=_param.onForwardCycleApprove,onBackwardCycleApprove=_param.onBackwardCycleApprove,containerRef=_param.containerRef,virtualScroll=_param.virtualScroll,_param_rowCount=_param.rowCount,rowCount=void 0===_param_rowCount?6:_param_rowCount,parentMenuRef=_param.parentMenuRef,onCloseQuery=_param.onCloseQuery,_param_defaultIsActive=_param.defaultIsActive,defaultIsActive=void 0===_param_defaultIsActive||_param_defaultIsActive,subMenuRenderDirection=_param.subMenuRenderDirection,preventFocusSteal=_param.preventFocusSteal,maxHeight=_param.maxHeight,_param_preselectedModeActive=_param.preselectedModeActive,preselectedModeActive=void 0!==_param_preselectedModeActive&&_param_preselectedModeActive,onMenuKeyDown=_param.onMenuKeyDown,disableSelectionOnSpace=_param.disableSelectionOnSpace,disableSelectionOnEnter=_param.disableSelectionOnEnter,props=Menu_object_without_properties(_param,["model","defaultSelected","selected","preselected","active","onPreselectItem","onSelectItem","onDeselectItem","onActivateItem","renderTopPanel","renderBottomPanel","dimension","multiSelection","disableSelectedOptionHighlight","onForwardCycleApprove","onBackwardCycleApprove","containerRef","virtualScroll","rowCount","parentMenuRef","onCloseQuery","defaultIsActive","subMenuRenderDirection","preventFocusSteal","maxHeight","preselectedModeActive","onMenuKeyDown","disableSelectionOnSpace","disableSelectionOnEnter"]),findNextId=function(currentId){for(var currentIndex=currentId?model.findIndex(function(item){return item.id===currentId}):-1,nextIndex=currentIndex<model.length-1?currentIndex+1:0,finishCycle=!1;(model[nextIndex].disabled||model[nextIndex].readOnly)&&!finishCycle;)nextIndex=nextIndex<model.length-1?nextIndex+1:0,finishCycle=-1===currentIndex?0===nextIndex:nextIndex===currentIndex;return model[nextIndex=!(currentIndex>-1&&nextIndex<currentIndex)||!onForwardCycleApprove||onForwardCycleApprove()?nextIndex:currentIndex].disabled||model[nextIndex].readOnly?void 0:model[nextIndex].id},findPreviousId=function(currentId){for(var currentIndex=currentId?model.findIndex(function(item){return item.id===currentId}):-1,prevIndex=currentIndex>0?currentIndex-1:model.length-1,finishCycle=!1;(model[prevIndex].disabled||model[prevIndex].readOnly)&&!finishCycle;)prevIndex=prevIndex>0?prevIndex-1:model.length-1,finishCycle=-1===currentIndex?0===prevIndex:prevIndex===currentIndex;return model[prevIndex=!(currentIndex>-1&&prevIndex>currentIndex)||!onBackwardCycleApprove||onBackwardCycleApprove()?prevIndex:currentIndex].disabled||model[prevIndex].readOnly?void 0:model[prevIndex].id},uncontrolledActiveValue=model.length>0?findNextId():void 0,_useState=Menu_sliced_to_array((0,react.useState)(defaultSelected?valueToArray(defaultSelected):[]),2),selectedState=_useState[0],setSelectedState=_useState[1],_useState1=Menu_sliced_to_array((0,react.useState)(uncontrolledActiveValue),2),activeState=_useState1[0],setActiveState=_useState1[1],_useState2=Menu_sliced_to_array((0,react.useState)(uncontrolledActiveValue),2),preselectedState=_useState2[0],setPreselectedState=_useState2[1],wrapperRef=(0,react.useRef)(null),subMenuRef=(0,react.useRef)(null),_useState3=Menu_sliced_to_array((0,react.useState)(null),2),activeItemElement=_useState3[0],setActiveItemElement=_useState3[1],_useState4=Menu_sliced_to_array((0,react.useState)(!1),2),submenuVisible=_useState4[0],setSubmenuVisible=_useState4[1],lastScrollEvent=(0,react.useRef)();(0,react.useEffect)(function(){setActiveState(uncontrolledActiveValue)},[model]);var innerSelected=void 0!==_param_disableSelectedOptionHighlight&&_param_disableSelectedOptionHighlight?[]:void 0===selected?selectedState:valueToArray(selected),activeId=void 0===active?activeState:active,preselectedId=preselectedModeActive?void 0===preselected?preselectedState:preselected:void 0,scrollContainerRef=(0,react.useRef)(null),verticalScrollAriaRef=(0,react.useRef)(null),hasTopPanel=!!renderTopPanel,hasBottomPanel=!!renderBottomPanel,activateItem=function(id){activeId!==id&&setActiveState(id),null==onActivateItem||onActivateItem(id)},preselectItem=function(id){preselectedId!==id&&setPreselectedState(id),null==onPreselectItem||onPreselectItem(id)},handleClickItem=function(id){var item=findModelItem(model,id);if(item&&!item.disabled&&!item.readOnly){var selectedIndex=selectedState.findIndex(function(itemId){return itemId===id});multiSelection?selectedIndex>-1?(setSelectedState(selectedState.splice(selectedIndex,1)),null==onDeselectItem||onDeselectItem(id)):(setSelectedState(Menu_to_consumable_array(selectedState).concat([id])),null==onSelectItem||onSelectItem(id)):(-1===selectedIndex&&setSelectedState([id]),null==onSelectItem||onSelectItem(id))}},_useDropdown=(0,DropdownProvider.BK)(wrapperRef),currentActiveMenu=_useDropdown.currentActiveMenu,activateMenu=_useDropdown.activateMenu,deactivateMenu=_useDropdown.deactivateMenu;(0,react.useEffect)(function(){var handleKeyDown=function handleKeyDown(e){if((null==currentActiveMenu?void 0:currentActiveMenu.current)===wrapperRef.current)switch(keyboardKey.r.getCode(e)){case keyboardKey.r[" "]:if(disableSelectionOnSpace)break;preselectedModeActive&&preselectedId?handleClickItem(preselectedId):activeId&&handleClickItem(activeId),e.preventDefault();break;case keyboardKey.r.Enter:if(disableSelectionOnEnter)break;preselectedModeActive&&preselectedId?handleClickItem(preselectedId):activeId&&handleClickItem(activeId),e.preventDefault();break;case keyboardKey.r.ArrowDown:var nextId=findNextId(preselectedModeActive&&preselectedId||activeId);preselectedModeActive?preselectItem(nextId):activateItem(nextId),e.preventDefault();break;case keyboardKey.r.ArrowUp:var previousId=findPreviousId(preselectedModeActive&&preselectedId||activeId);preselectedModeActive?preselectItem(previousId):activateItem(previousId),e.preventDefault();break;case keyboardKey.r.ArrowRight:var currentId2=preselectedModeActive&&preselectedId||activeId,item=model.find(function(item){return item.id===currentId2});!item||item.disabled||item.readOnly||!item.subItems||submenuVisible||setSubmenuVisible(!0),subMenuRef&&subMenuRef.current&&(null==activateMenu||activateMenu(subMenuRef));break;case keyboardKey.r.ArrowLeft:parentMenuRef&&parentMenuRef.current&&(null==onCloseQuery||onCloseQuery());break;default:null==onMenuKeyDown||onMenuKeyDown(e)}};return document.addEventListener("keydown",handleKeyDown),function(){document.removeEventListener("keydown",handleKeyDown)}},[active,activeId,activeState,currentActiveMenu,preselectedId,disableSelectionOnSpace,disableSelectionOnEnter]),(0,react.useEffect)(function(){return defaultIsActive&&(null==activateMenu||activateMenu(wrapperRef)),function(){defaultIsActive&&currentActiveMenu===wrapperRef&&(null==deactivateMenu||deactivateMenu(wrapperRef))}},[defaultIsActive]);var renderItem=function(item,index){var id=item.id,subItems=item.subItems,render=item.render,itemProps=Menu_object_without_properties(item,["id","subItems","render"]),hasSubmenu=!!subItems&&subItems.length>0,hovered=activeId===id,selected=innerSelected.includes(id)||hasSelectedChildren(item,innerSelected),renderProps=Menu_object_spread({hovered:hovered,preselected:void 0!==preselectedId?preselectedId===id:void 0,selected:selected,onLeave:function(e){var _subMenuRef_current,_verticalScrollAriaRef_current,relTarget=e.relatedTarget;relTarget&&Object.hasOwn(relTarget,"nodeName")&&!(null==(_subMenuRef_current=subMenuRef.current)?void 0:_subMenuRef_current.contains(relTarget))&&!(null==(_verticalScrollAriaRef_current=verticalScrollAriaRef.current)?void 0:_verticalScrollAriaRef_current.contains(relTarget))&&setSubmenuVisible(!1)},onHover:function(e){activateItem(id),setSubmenuVisible(hasSubmenu),setActiveItemElement(e.currentTarget)},onMouseDown:preventFocusSteal?function(e){return e.preventDefault()}:void 0,onClick:function(){return handleClickItem(id)},hasSubmenu:hasSubmenu,disabled:itemProps.disabled},itemProps);return"function"==typeof render?render(Menu_object_spread({containerRef:containerRef},renderProps)):(0,jsx_runtime.jsx)(MenuItem.D,Menu_object_spread_props(Menu_object_spread({},renderProps),{children:render}),"".concat(item.id,"-").concat(index))},previousActive=(0,react.useRef)(),previousActiveState=(0,react.useRef)(),previousPreselected=(0,react.useRef)(),previousPreselectedState=(0,react.useRef)();(0,react.useLayoutEffect)(function(){setTimeout(function(){if(active&&previousActive.current!==active||previousActiveState.current!==activeState?itemToScroll=null==(_scrollContainerRef_current=scrollContainerRef.current)?void 0:_scrollContainerRef_current.querySelector('[data-hovered="true"]'):(preselected&&previousPreselected.current!==preselected||previousPreselectedState.current!==preselectedState)&&(itemToScroll=null==(_scrollContainerRef_current1=scrollContainerRef.current)?void 0:_scrollContainerRef_current1.querySelector('[data-preselected="true"]')),itemToScroll){var itemToScroll,_scrollContainerRef_current,_scrollContainerRef_current1,scrollEventTime=Date.now(),lastEventTime=lastScrollEvent.current;null==itemToScroll||itemToScroll.scrollIntoView({behavior:!lastEventTime||scrollEventTime-lastEventTime<150?"auto":"smooth",inline:"center",block:"nearest"}),lastScrollEvent.current=scrollEventTime,previousActive.current=active,previousActiveState.current=activeState,previousPreselected.current=preselected,previousPreselectedState.current=preselectedState}},0)},[active,activeState,preselected,preselectedState,model]);var menuProps=(0,splitDataAttributes.CR)(props);return(0,react.useEffect)(function(){if(activeItemElement&&scrollContainerRef.current){var options={root:scrollContainerRef.current,rootMargin:"0px",threshold:.5},observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){setSubmenuVisible(!(entry.intersectionRatio<options.threshold))})},options);return observer.observe(activeItemElement),function(){return observer.disconnect()}}},[activeItemElement]),(0,jsx_runtime.jsxs)(Wrapper,Menu_object_spread_props(Menu_object_spread({ref:(0,refSetter.d)(wrapperRef,ref),$dimension:dimension,$hasTopPanel:hasTopPanel,$hasBottomPanel:hasBottomPanel,onMouseEnter:function(e){var _props_onMouseEnter;currentActiveMenu!==wrapperRef&&(null==activateMenu||activateMenu(wrapperRef)),null==(_props_onMouseEnter=props.onMouseEnter)||_props_onMouseEnter.call(props,e)},onMouseLeave:function(e){var _props_onMouseLeave;activateItem(void 0),null==(_props_onMouseLeave=props.onMouseLeave)||_props_onMouseLeave.call(props,e)},onFocus:function(e){var _props_onFocus;currentActiveMenu!==wrapperRef&&(null==activateMenu||activateMenu(wrapperRef)),null==(_props_onFocus=props.onFocus)||_props_onFocus.call(props,e)},onBlur:function(e){var _props_onBlur;currentActiveMenu===wrapperRef&&(null==deactivateMenu||deactivateMenu(wrapperRef)),null==(_props_onBlur=props.onBlur)||_props_onBlur.call(props,e)}},props),{children:[hasTopPanel&&renderTopPanel({dimension:dimension}),(0,jsx_runtime.jsx)(StyledScrollContainer,Menu_object_spread_props(Menu_object_spread({$dimension:dimension,$rowCount:rowCount,$hasTopPanel:hasTopPanel,$hasBottomPanel:hasBottomPanel,$maxHeight:maxHeight},menuProps),{verticalScrollProps:{ref:verticalScrollAriaRef},contentBlockProps:{ref:scrollContainerRef},children:virtualScroll?function(){if(!virtualScroll)return null;var itemHeight="auto"===virtualScroll.itemHeight?getItemHeight(dimension):virtualScroll.itemHeight;return(0,jsx_runtime.jsx)(VirtualBody,{scrollContainerRef:scrollContainerRef,itemHeight:itemHeight,model:model,rowCount:rowCount,activeId:activeId,selected:innerSelected,onRenderItem:renderItem})}():model.map(function(item,index){return renderItem(Menu_object_spread({dimension:dimension},item),index)})})),submenuVisible&&activeItemElement&&(0,jsx_runtime.jsx)(SubMenuContainer,{targetElement:activeItemElement,defaultRenderDirection:subMenuRenderDirection,onClickOutside:parentMenuRef?void 0:function(){setSubmenuVisible(!1)},children:(activeItem=model.find(function(item){return item.id===activeId}))&&activeItem.subItems&&activeItem.subItems.length>0&&(0,jsx_runtime.jsx)(Menu,{ref:subMenuRef,dimension:dimension,parentMenuRef:wrapperRef,model:activeItem.subItems,subMenuRenderDirection:subMenuRenderDirection,onCloseQuery:function(){setSubmenuVisible(!1),null==activateMenu||activateMenu(wrapperRef)},selected:innerSelected,onSelectItem:function(id){return handleClickItem(id)},virtualScroll:virtualScroll,rowCount:rowCount,maxHeight:maxHeight,preventFocusSteal:!0})}),hasBottomPanel&&renderBottomPanel({dimension:dimension})]}))});Menu.displayName="Menu";try{getItemHeight.displayName="getItemHeight",getItemHeight.__docgenInfo={description:"",displayName:"getItemHeight",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/index.tsx#getItemHeight"]={docgenInfo:getItemHeight.__docgenInfo,name:"getItemHeight",path:"src/components/Menu/index.tsx#getItemHeight"})}catch(__react_docgen_typescript_loader_error){}try{Menu.displayName="Menu",Menu.__docgenInfo={description:"",displayName:"Menu",props:{dimension:{defaultValue:{value:"'l' as MenuDimensions"},description:"Размер Меню",name:"dimension",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'}]}},active:{defaultValue:null,description:"Активная секция Menu",name:"active",required:!1,type:{name:"string | null"}},preselected:{defaultValue:null,description:"Секция в состоянии preselected",name:"preselected",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"выбранная секция Menu",name:"selected",required:!1,type:{name:"string | string[]"}},defaultSelected:{defaultValue:null,description:"выбранная по умолчанию секция Menu",name:"defaultSelected",required:!1,type:{name:"string | string[]"}},onActivateItem:{defaultValue:null,description:"Обработчик активации (hover) item в меню",name:"onActivateItem",required:!1,type:{name:"((id?: string) => void)"}},onSelectItem:{defaultValue:null,description:"Обработчик выбора item в меню",name:"onSelectItem",required:!1,type:{name:"((id: string) => void)"}},onDeselectItem:{defaultValue:null,description:"Обработчик выбора item в меню",name:"onDeselectItem",required:!1,type:{name:"((id: string) => void)"}},model:{defaultValue:null,description:"Модель данных, с рендер-пропсами",name:"model",required:!0,type:{name:"MenuModelItemProps[]"}},maxHeight:{defaultValue:null,description:"Задает максимальную высоту меню (с учетом наличия/отсутствия верхней/нижней панели)",name:"maxHeight",required:!1,type:{name:"string | number"}},renderTopPanel:{defaultValue:null,description:"Позволяет добавить панель сверху над выпадающим списком",name:"renderTopPanel",required:!1,type:{name:"((props: RenderPanelProps) => ReactNode)"}},renderBottomPanel:{defaultValue:null,description:"Позволяет добавить панель внизу под выпадающим списком",name:"renderBottomPanel",required:!1,type:{name:"((props: RenderPanelProps) => ReactNode)"}},multiSelection:{defaultValue:{value:"false"},description:`@deprecated Помечено как deprecated в версии 4.9.1, будет удалено в 10.x.x версии.
Взамен используйте disableSelectedOptionHighlight

Возможность множественного выбора (опции с Checkbox)`,name:"multiSelection",required:!1,type:{name:"boolean"}},rowCount:{defaultValue:{value:"6"},description:"Количество отображаемых пунктов меню",name:"rowCount",required:!1,type:{name:"number"}},disableSelectedOptionHighlight:{defaultValue:{value:"false"},description:`Возможность отключить подсветку выбранной опции
(например, при множественном выборе, когда у каждой опции есть Checkbox)`,name:"disableSelectedOptionHighlight",required:!1,type:{name:"boolean"}},disableSelectionOnSpace:{defaultValue:null,description:"Отключает функцию выбора опции при нажатии на пробел",name:"disableSelectionOnSpace",required:!1,type:{name:"boolean"}},disableSelectionOnEnter:{defaultValue:null,description:"Отключает функцию выбора опции при нажатии на Enter",name:"disableSelectionOnEnter",required:!1,type:{name:"boolean"}},onForwardCycleApprove:{defaultValue:null,description:"",name:"onForwardCycleApprove",required:!1,type:{name:"(() => boolean)"}},onBackwardCycleApprove:{defaultValue:null,description:"",name:"onBackwardCycleApprove",required:!1,type:{name:"(() => boolean)"}},containerRef:{defaultValue:null,description:"ссылка на контейнер, в котором находится Menu",name:"containerRef",required:!1,type:{name:"RefObject<HTMLElement>"}},virtualScroll:{defaultValue:null,description:`Включение виртуального скролла для меню.
Максимальная высота меню рассчитывается исходя из высоты 1 пункта, если параметр 'auto', то в расчет идет
высота согласно dimension`,name:"virtualScroll",required:!1,type:{name:'{ itemHeight: number | "auto"; }'}},subMenuRenderDirection:{defaultValue:null,description:"Сторона от родительского меню, в которой по умолчанию будет появляться дочернее меню при наличии места",name:"subMenuRenderDirection",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},parentMenuRef:{defaultValue:null,description:"@internal Ссылка на родительское меню для subMenu",name:"parentMenuRef",required:!1,type:{name:"RefObject<HTMLElement>"}},onCloseQuery:{defaultValue:null,description:"@internal Обработчик события при попытке закрыть subMenu",name:"onCloseQuery",required:!1,type:{name:"(() => void)"}},defaultIsActive:{defaultValue:{value:"true"},description:"Признак необходимости активировать меню сразу при появлении",name:"defaultIsActive",required:!1,type:{name:"boolean"}},preventFocusSteal:{defaultValue:null,description:"Клик по меню не приводит к перемещению фокуса",name:"preventFocusSteal",required:!1,type:{name:"boolean"}},preselectedModeActive:{defaultValue:{value:"false"},description:"Признак включения режима с использованием состояния preselected",name:"preselectedModeActive",required:!1,type:{name:"boolean"}},onPreselectItem:{defaultValue:null,description:"Обработчик события preselected",name:"onPreselectItem",required:!1,type:{name:"((id?: string) => void)"}},onMenuKeyDown:{defaultValue:null,description:"Обработчик нажатия клавиши на активном меню",name:"onMenuKeyDown",required:!1,type:{name:"((e: KeyboardEvent) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Menu/index.tsx#Menu"]={docgenInfo:Menu.__docgenInfo,name:"Menu",path:"src/components/Menu/index.tsx#Menu"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/common/hooks/useClickOutside.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>useClickOutside});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useClickOutside=function(elements,handler){var listener=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function(e){elements.every(function(element){return element.current&&!element.current.contains(e.target)})&&handler(e)},[handler,elements]);react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function(){return document.addEventListener("mousedown",listener,!0),document.addEventListener("touchstart",listener),function(){document.removeEventListener("mousedown",listener,!0),document.removeEventListener("touchstart",listener)}},[listener])}},"./src/components/common/hooks/usePrevious.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){ref.current=value}),ref.current}},"./src/components/common/utils/splitDataAttributes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$e:()=>passFormFieldDataAttributes,CR:()=>passMenuDataAttributes,D9:()=>passDataAttributes,G:()=>passFormFieldContainerDataAttributes,G$:()=>FORM_FIELD_DATA_CONTAINER_ATTRIBUTE,c$:()=>passDropdownDataAttributes});var FORM_FIELD_DATA_CONTAINER_ATTRIBUTE="data-container";function passFormFieldContainerDataAttributes(initialProps,containerProps){passDataAttributes(initialProps,containerProps,FORM_FIELD_DATA_CONTAINER_ATTRIBUTE,!0)}function passFormFieldDataAttributes(initialProps,containerProps){passDataAttributes(initialProps,containerProps,"data-field",!1)}function passDropdownDataAttributes(initialProps){var dropMenuProps={};return passDataAttributes(initialProps,dropMenuProps,"data-dropdown-container",!0),dropMenuProps}function passMenuDataAttributes(initialProps){var menuProps={};return passDataAttributes(initialProps,menuProps,"data-menu",!0),menuProps}function passDataAttributes(sourceProps,destinationProps,dataAttributesStart,deleteProp){Object.keys(sourceProps).forEach(function(key){"string"==typeof key&&key.startsWith(dataAttributesStart)&&(destinationProps[key]=sourceProps[key],deleteProp&&delete sourceProps[key])})}},"./src/components/common/utils/throttle.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}__webpack_require__.d(__webpack_exports__,{n:()=>throttle});var throttle=function(fn,delay){var timeout,wait=!1,cancelled=!1;return[function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(!cancelled&&!wait){var val=fn.apply(void 0,_to_consumable_array(args));return wait=!0,timeout=setTimeout(function(){wait=!1},delay),val}},function(){cancelled=!0,clearTimeout(timeout)}]}}}]);