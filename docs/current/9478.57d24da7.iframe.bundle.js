"use strict";(self.webpackChunk_admiral_ds_react_ui=self.webpackChunk_admiral_ds_react_ui||[]).push([[9478],{"./src/components/Slider/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Slider});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),keyboardKey=__webpack_require__("./src/components/common/keyboardKey.js"),throttle=__webpack_require__("./src/components/common/utils/throttle.ts");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}var correctValueWithRanges=function(ranges,value,minValue,maxValue){var _Math,_Math1,fullRangePoints=_to_consumable_array(ranges.map(function(elem){return elem})).concat([minValue,maxValue]).sort(function(a,b){return a-b}),closestRight=(_Math=Math).min.apply(_Math,_to_consumable_array(fullRangePoints.filter(function(v){return v>=value}))),closestLeft=(_Math1=Math).max.apply(_Math1,_to_consumable_array(fullRangePoints.filter(function(v){return v<=value})));return closestRight-value<=value-closestLeft?closestRight:closestLeft},calcValueByPos=function(trackWidth,sliderPosition,minValue,maxValue,step){var sliderValue=sliderPosition*(trackWidth?(maxValue-minValue)/trackWidth:0);"number"==typeof step&&(!step||step>=1)&&(sliderValue=Math.round(sliderValue));var calcValue=minValue+sliderValue;if(step&&"number"==typeof step&&(calcValue=Math.round(calcValue/step)*step,step.toString().includes("."))){var _step_toString_match,decimal=null==(_step_toString_match=step.toString().match(/\.(\d+)/))?void 0:_step_toString_match[1].length;calcValue=+calcValue.toFixed(decimal)}return minValue>calcValue?minValue:calcValue>maxValue?maxValue:calcValue},calcValue=function(e,trackRef,minValue,maxValue,step,tickMarks){var _trackRef_current,_trackRef_current1,trackLeft=(null==(_trackRef_current=trackRef.current)?void 0:_trackRef_current.getBoundingClientRect().left)||0,trackWidth=(null==(_trackRef_current1=trackRef.current)?void 0:_trackRef_current1.getBoundingClientRect().width)||0,cursorPosition=e.changedTouches?e.changedTouches[0].pageX:e.pageX;cursorPosition<=trackLeft&&(cursorPosition=trackLeft),cursorPosition>=trackLeft+trackWidth&&(cursorPosition=trackLeft+trackWidth);var newValue=calcValueByPos(trackWidth,Math.round(cursorPosition-trackLeft),minValue,maxValue,step);return tickMarks&&(newValue=correctValueWithRanges(tickMarks,newValue,minValue,maxValue)),newValue},styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),animation=__webpack_require__("./src/components/skeleton/animation.tsx");function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal([`
  position: relative;
  -webkit-tap-highlight-color: transparent;
  cursor: `,`;
`]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal([`
  `,`;
  pointer-events: none;
  & > * {
    visibility: hidden;
  }
`]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal([`
  position: relative;
  box-sizing: border-box;
  width: 100%;
  display: flex;
  align-items: center;
  height: `,`px;
  padding-bottom: 20px;
  [data-disabled='true'] && {
    pointer-events: none;
  }

  `,`;
`]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal([`
  height: 2px;
  background: var(--admiral-color-Neutral_Neutral20, `,`);
  [data-disabled='true'] && {
    background: var(--admiral-color-Neutral_Neutral20, `,`);
  }
  width: 100%;
`]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=_tagged_template_literal([`
  height: 2px;
  transform: translateY(-50%);
`]);return _templateObject4=function _templateObject(){return data},data}function _templateObject5(){var data=_tagged_template_literal([`
  display: block;
  [data-disabled='true'] && {
    background: var(--admiral-color-Neutral_Neutral30, `,`);
  }
  position: absolute;
  height: 2px;
  width: 0%;
  background-color: var(--admiral-color-Primary_Primary60Main, `,`);
  transition: `,`;
`]);return _templateObject5=function _templateObject(){return data},data}function _templateObject6(){var data=_tagged_template_literal([`
  position: absolute;
  width: `,`px;
  height: `,`px;
  align-items: center;
  justify-content: center;
  transform: translateX(-50%) translateY(-50%);
  border-radius: 50%;
  top: 2px;
  left: 0;
  transition: `,`;
`]);return _templateObject6=function _templateObject(){return data},data}function _templateObject7(){var data=_tagged_template_literal([`
  position: relative;
  height: `,`px;
  width: `,`px;
  background: var(--admiral-color-Primary_Primary60Main, `,`);
  border-radius: 50%;
  &:before {
    position: absolute;
    content: '';
    height: `,`px;
    width: `,`px;
    background: var(--admiral-color-Special_StaticWhite, `,`);
    top: `,`px;
    bottom: `,`px;
    left: `,`px;
    right: `,`px;
    border-radius: 50%;
  }
  &:hover {
    background: var(--admiral-color-Primary_Primary70, `,`);
  }
  &:active {
    background: var(--admiral-color-Primary_Primary70, `,`);
  }

  [data-disabled='true'] && {
    background: var(--admiral-color-Neutral_Neutral30, `,`);
    pointer-events: none;
    &:hover,
    &:active {
      background: var(--admiral-color-Neutral_Neutral30, `,`);
    }
  }
`]);return _templateObject7=function _templateObject(){return data},data}var TRANSITION_ANIMATION="all  ease-in 0.3s",Wrapper=styled_components_browser_esm.Ay.div(_templateObject(),function(p){return p.$disabled?"not-allowed":p.$skeleton?"default":"pointer"}),skeletonMixin=(0,styled_components_browser_esm.AH)(_templateObject1(),animation.h),TrackWrapper=styled_components_browser_esm.Ay.div(_templateObject2(),function(param){return"m"===param.$dimension?36:40},function(param){return param.$skeleton&&skeletonMixin}),Track=styled_components_browser_esm.Ay.div(_templateObject3(),function(p){return p.theme.color["Neutral/Neutral 20"]},function(p){return p.theme.color["Neutral/Neutral 20"]}),DefaultTrack=styled_components_browser_esm.Ay.div(_templateObject4()),FilledTrack=styled_components_browser_esm.Ay.div(_templateObject5(),function(p){return p.theme.color["Neutral/Neutral 30"]},function(p){return p.theme.color["Primary/Primary 60 Main"]},function(param){return param.$animation?TRANSITION_ANIMATION:"none"}),Thumb=styled_components_browser_esm.Ay.div(_templateObject6(),function(param){return"m"===param.$dimension?16:20},function(param){return"m"===param.$dimension?16:20},function(param){return param.$animation?TRANSITION_ANIMATION:"none"}),ThumbCircle=styled_components_browser_esm.Ay.div(_templateObject7(),function(param){return"m"===param.$dimension?16:20},function(param){return"m"===param.$dimension?16:20},function(p){return p.theme.color["Primary/Primary 60 Main"]},function(param){return"m"===param.$dimension?6:8},function(param){return"m"===param.$dimension?6:8},function(p){return p.theme.color["Special/Static White"]},function(param){return"m"===param.$dimension?5:6},function(param){return"m"===param.$dimension?5:6},function(param){return"m"===param.$dimension?5:6},function(param){return"m"===param.$dimension?5:6},function(p){return p.theme.color["Primary/Primary 70"]},function(p){return p.theme.color["Primary/Primary 70"]},function(p){return p.theme.color["Neutral/Neutral 30"]},function(p){return p.theme.color["Neutral/Neutral 30"]}),light=__webpack_require__("./src/components/themes/light/index.ts"),typography=__webpack_require__("./src/components/Typography/typography.ts"),utils=__webpack_require__("./src/components/input/NumberInput/utils.ts");function TickMarks_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function TickMarks_templateObject(){var data=TickMarks_tagged_template_literal([`
  position: absolute;
  left: `,`%;
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
`]);return TickMarks_templateObject=function _templateObject(){return data},data}function TickMarks_templateObject1(){var data=TickMarks_tagged_template_literal([`
  display: flex;
  align-items: center;
  position: absolute;
  top: 16px;
  [data-dimension='m'] && {
    top: 14px;
  }
  white-space: nowrap;
  `,`
  color: var(--admiral-color-Neutral_Neutral90, `,`);
  &:hover {
    color: var(--admiral-color-Primary_Primary70, `,`);
  }
  &:active {
    color: var(--admiral-color-Primary_Primary70, `,`);
  }
  [data-disabled='true'] && {
    color: var(--admiral-color-Neutral_Neutral30, `,`);
  }
`]);return TickMarks_templateObject1=function _templateObject(){return data},data}var TickMarks_Wrapper=styled_components_browser_esm.Ay.div(TickMarks_templateObject(),function(param){return param.$position}),Content=styled_components_browser_esm.Ay.div(TickMarks_templateObject1(),typography.Il["Body/Body 2 Short"],function(p){return p.theme.color["Neutral/Neutral 90"]},function(p){return p.theme.color["Primary/Primary 70"]},function(p){return p.theme.color["Primary/Primary 70"]},function(p){return p.theme.color["Neutral/Neutral 30"]}),TickMarks=function(param){var _userDecimal_slice,minValue=param.minValue,maxValue=param.maxValue,userDecimal=param.decimal,userThousand=param.thousand,_param_precision=param.precision,precision=void 0===_param_precision?2:_param_precision,tickMarks=param.tickMarks,onPointClick=param.onPointClick,renderTickMark=param.renderTickMark,theme=(0,styled_components_browser_esm.DP)()||light.d,thousand=void 0!==userThousand&&(0,utils.p)(userThousand)?userThousand.slice(0,1):(0,utils.o7)(theme.currentLocale),decimal=null!=(_userDecimal_slice=null==userDecimal?void 0:userDecimal.slice(0,1))?_userDecimal_slice:(0,utils.FI)(theme.currentLocale),items=tickMarks.filter(function(d){return d>=minValue&&d<=maxValue}),range=maxValue-minValue;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:items.map(function(value,index){var key=value.toString()+index,position=(value-minValue)/range*100,style={};return style=0===index?{left:0}:style,style=index===tickMarks.length-1?{right:0}:style,(0,jsx_runtime.jsx)(TickMarks_Wrapper,{$position:position,onMouseDown:function(e){onPointClick(e,value)},children:(0,jsx_runtime.jsx)(Content,{style:style,children:renderTickMark?renderTickMark((0,utils.YW)(value,precision,decimal,thousand)):(0,utils.YW)(value,precision,decimal,thousand)})},key)})})};try{Content.displayName="Content",Content.__docgenInfo={description:"",displayName:"Content",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/TickMarks.tsx#Content"]={docgenInfo:Content.__docgenInfo,name:"Content",path:"src/components/Slider/TickMarks.tsx#Content"})}catch(__react_docgen_typescript_loader_error){}try{TickMarks.displayName="TickMarks",TickMarks.__docgenInfo={description:"",displayName:"TickMarks",props:{minValue:{defaultValue:null,description:"",name:"minValue",required:!0,type:{name:"number"}},maxValue:{defaultValue:null,description:"",name:"maxValue",required:!0,type:{name:"number"}},decimal:{defaultValue:null,description:"",name:"decimal",required:!1,type:{name:"string"}},precision:{defaultValue:{value:"2"},description:"",name:"precision",required:!1,type:{name:"number"}},thousand:{defaultValue:null,description:"",name:"thousand",required:!1,type:{name:"string"}},tickMarks:{defaultValue:null,description:"",name:"tickMarks",required:!0,type:{name:"number[]"}},onPointClick:{defaultValue:null,description:"",name:"onPointClick",required:!0,type:{name:"(e: any, value: number) => void"}},renderTickMark:{defaultValue:null,description:"",name:"renderTickMark",required:!1,type:{name:"((mark: string) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/TickMarks.tsx#TickMarks"]={docgenInfo:TickMarks.__docgenInfo,name:"TickMarks",path:"src/components/Slider/TickMarks.tsx#TickMarks"})}catch(__react_docgen_typescript_loader_error){}var Tooltip=__webpack_require__("./src/components/Tooltip/index.tsx");function ThumbTooltip_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||ThumbTooltip_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function ThumbTooltip_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return ThumbTooltip_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ThumbTooltip_array_like_to_array(o,minLen)}}var ThumbTooltip=function(param){var targetElement=param.targetElement,value=param.value,isDraging=param.isDraging,_useState=_sliced_to_array((0,react.useState)(!1),2),visible=_useState[0],setVisible=_useState[1];return(0,react.useEffect)(function(){var show=function show(){setVisible(!0)},hide=function hide(){setVisible(!1)};if(targetElement)return targetElement.addEventListener("mouseenter",show),targetElement.addEventListener("focus",show),targetElement.addEventListener("mouseleave",hide),targetElement.addEventListener("blur",hide),function(){targetElement.removeEventListener("mouseenter",show),targetElement.removeEventListener("focus",show),targetElement.removeEventListener("mouseleave",hide),targetElement.removeEventListener("blur",hide)}},[targetElement]),(visible||isDraging)&&targetElement?(0,jsx_runtime.jsx)(Tooltip.m,{targetElement:targetElement,renderContent:function(){return value},dimension:"s",tooltipPosition:"top"}):null};try{ThumbTooltip.displayName="ThumbTooltip",ThumbTooltip.__docgenInfo={description:"",displayName:"ThumbTooltip",props:{targetElement:{defaultValue:null,description:"",name:"targetElement",required:!0,type:{name:"HTMLDivElement | null"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},isDraging:{defaultValue:null,description:"",name:"isDraging",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/ThumbTooltip.tsx#ThumbTooltip"]={docgenInfo:ThumbTooltip.__docgenInfo,name:"ThumbTooltip",path:"src/components/Slider/ThumbTooltip.tsx#ThumbTooltip"})}catch(__react_docgen_typescript_loader_error){}function Slider_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Slider_array_with_holes(arr){if(Array.isArray(arr))return arr}function Slider_array_without_holes(arr){if(Array.isArray(arr))return Slider_array_like_to_array(arr)}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Slider_iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function Slider_iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function Slider_non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Slider_non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_define_property(target,key,source[key])})}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=_object_without_properties_loose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function Slider_sliced_to_array(arr,i){return Slider_array_with_holes(arr)||Slider_iterable_to_array_limit(arr,i)||Slider_unsupported_iterable_to_array(arr,i)||Slider_non_iterable_rest()}function Slider_to_consumable_array(arr){return Slider_array_without_holes(arr)||Slider_iterable_to_array(arr)||Slider_unsupported_iterable_to_array(arr)||Slider_non_iterable_spread()}function Slider_unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return Slider_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Slider_array_like_to_array(o,minLen)}}var Slider=function(_param){var _param_minValue=_param.minValue,minValue=void 0===_param_minValue?0:_param_minValue,_param_maxValue=_param.maxValue,maxValue=void 0===_param_maxValue?20:_param_maxValue,decimal=_param.decimal,thousand=_param.thousand,_param_precision=_param.precision,_param_value=_param.value,value=void 0===_param_value?0:_param_value,onChange=_param.onChange,renderTickMark=_param.renderTickMark,points=_param.tickMarks,_param_disabled=_param.disabled,disabled=void 0!==_param_disabled&&_param_disabled,tmp=_param.step,userStep=void 0===tmp?1:tmp,_param_dimension=_param.dimension,dimension=void 0===_param_dimension?"xl":_param_dimension,_param_skeleton=_param.skeleton,skeleton=void 0!==_param_skeleton&&_param_skeleton,_param_showTooltip=_param.showTooltip,props=_object_without_properties(_param,["minValue","maxValue","decimal","thousand","precision","value","onChange","renderTickMark","tickMarks","disabled","step","dimension","skeleton","showTooltip"]),tickMarks=Array.isArray(points)?points:void 0,step="number"==typeof userStep&&userStep>0||"any"===userStep?userStep:1,_useState=Slider_sliced_to_array((0,react.useState)(!1),2),isDraging=_useState[0],setDrag=_useState[1],_useState1=Slider_sliced_to_array((0,react.useState)(!0),2),animation=_useState1[0],setAnimation=_useState1[1],_useState2=Slider_sliced_to_array((0,react.useState)(0),2),rangeWidth=_useState2[0],setRangeWidth=_useState2[1],trackRef=(0,react.useRef)(null),_useState3=Slider_sliced_to_array((0,react.useState)(null),2),filledTrack=_useState3[0],setFilledTrack=_useState3[1],_useState4=Slider_sliced_to_array((0,react.useState)(null),2),thumb=_useState4[0],setThumb=_useState4[1];(0,react.useLayoutEffect)(function(){var value1,calcPercents,sliderCoords,newValue=value;if(step&&"any"!==step&&(newValue=Math.round(newValue/step)*step,step.toString().includes("."))){var _step_toString_match,decimal=null==(_step_toString_match=step.toString().match(/\.(\d+)/))?void 0:_step_toString_match[1].length;newValue=+newValue.toFixed(decimal)}newValue<minValue&&(newValue=minValue),newValue>maxValue&&(newValue=maxValue),calcPercents=(calcPercents=(calcPercents=(rangeWidth?rangeWidth/(maxValue-minValue):0)*((value1=newValue)>=0?value1-minValue:-minValue+value1)/rangeWidth*100)>100?100:calcPercents)<0?0:calcPercents,sliderCoords=String(value1)?calcPercents:0,thumb&&filledTrack&&(thumb.style.left="".concat(sliderCoords,"%"),filledTrack.style.width="".concat(sliderCoords,"%"))},[value,minValue,maxValue,step,rangeWidth,thumb,filledTrack]),(0,react.useLayoutEffect)(function(){if(trackRef.current){var resizeObserver=new ResizeObserver(function(entries){entries.forEach(function(entry){return setRangeWidth(entry.contentRect.width||0)})});return resizeObserver.observe(trackRef.current),function(){resizeObserver.disconnect()}}},[setRangeWidth]);var _throttle=Slider_sliced_to_array((0,throttle.n)(function(e){var newValue=calcValue(e,trackRef,minValue,maxValue,step,void 0);newValue!==value&&(onChange(e,newValue),setAnimation(!1))},50),2),handleMouseMove=_throttle[0],freeResources=_throttle[1];(0,react.useEffect)(function(){return isDraging&&!disabled&&(document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),document.addEventListener("touchmove",handleMouseMove),document.addEventListener("touchend",handleMouseUp),document.addEventListener("touchcancel",handleMouseUp)),function(){freeResources(),document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp),document.removeEventListener("touchmove",handleMouseMove),document.removeEventListener("touchend",handleMouseUp),document.removeEventListener("touchcancel",handleMouseUp)}});var onSliderClick=function(e){var _props_onMouseDown,_props_onTouchStart;e.stopPropagation(),"mousedown"===e.type?null==(_props_onMouseDown=props.onMouseDown)||_props_onMouseDown.call(props,e):null==(_props_onTouchStart=props.onTouchStart)||_props_onTouchStart.call(props,e),setDrag(!0),setAnimation(!0)},onTrackClick=function(e){setAnimation(!0),tickMarks||setDrag(!0);var newValue=calcValue(e,trackRef,minValue,maxValue,step,tickMarks);newValue!==value&&onChange(e,newValue)},handleMouseUp=function(e){setDrag(!1),setAnimation(!0);var newValue=calcValue(e,trackRef,minValue,maxValue,step,tickMarks);newValue!==value&&onChange(e,newValue)};return(0,jsx_runtime.jsx)(Wrapper,_object_spread_props(_object_spread({"data-disabled":disabled,$disabled:disabled,$skeleton:skeleton},props),{children:(0,jsx_runtime.jsx)(TrackWrapper,{$dimension:dimension,$skeleton:skeleton,onTouchStart:onTrackClick,onMouseDown:onTrackClick,children:(0,jsx_runtime.jsxs)(Track,{children:[(0,jsx_runtime.jsx)(FilledTrack,{ref:function(node){return setFilledTrack(node)},$animation:animation}),(0,jsx_runtime.jsxs)(DefaultTrack,{ref:trackRef,children:[(0,jsx_runtime.jsx)(TickMarks,{tickMarks:tickMarks?[minValue].concat(Slider_to_consumable_array(tickMarks),[maxValue]):[minValue,maxValue],minValue:minValue,maxValue:maxValue,decimal:decimal,precision:void 0===_param_precision?2:_param_precision,thousand:thousand,onPointClick:function(e,newValue){var _props_onMouseDown;e.stopPropagation(),null==(_props_onMouseDown=props.onMouseDown)||_props_onMouseDown.call(props,e),setAnimation(!0),newValue!==value&&onChange(e,newValue)},renderTickMark:renderTickMark}),(0,jsx_runtime.jsx)(Thumb,{ref:function(node){return setThumb(node)},$animation:animation,$dimension:dimension,role:"slider",tabIndex:disabled?-1:0,"aria-valuenow":value,"aria-valuemin":minValue,"aria-valuemax":maxValue,onKeyDown:function(e){switch(keyboardKey.r.getCode(e)){case keyboardKey.r.ArrowLeft:setAnimation(!0),"any"!==step&&value-step>=minValue&&value-step!==value&&onChange(e,value-step),e.preventDefault();break;case keyboardKey.r.ArrowRight:setAnimation(!0),"any"!==step&&value+step<=maxValue&&value+step!==value&&onChange(e,value+step),e.preventDefault()}},children:(0,jsx_runtime.jsx)(ThumbCircle,{$dimension:dimension,onTouchStart:onSliderClick,onMouseDown:onSliderClick})}),void 0!==_param_showTooltip&&_param_showTooltip&&(0,jsx_runtime.jsx)(ThumbTooltip,{targetElement:thumb,value:value,isDraging:isDraging})]})]})})}))};Slider.displayName="Slider";try{Slider.displayName="Slider",Slider.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:{value:"0"},description:"Значение компонента",name:"value",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"Коллбек на изменение состояния",name:"onChange",required:!0,type:{name:"(event: SyntheticEvent<Element, Event>, value: number) => void"}},minValue:{defaultValue:{value:"0"},description:"Минимальное значение",name:"minValue",required:!1,type:{name:"number"}},maxValue:{defaultValue:{value:"20"},description:"Максимальное значение",name:"maxValue",required:!1,type:{name:"number"}},step:{defaultValue:{value:"1"},description:`Шаг слайдера. Это либо строка any, либо положительное число, по умолчанию 1.
Если этот параметр не установлен в any, компонент принимает только кратные step значения, в диапазоне minValue - maxValue`,name:"step",required:!1,type:{name:'number | "any"'}},decimal:{defaultValue:null,description:`Символ разделителя между целым и десятичным числом, используется при форматировании надписей к отметкам слайдера.
Если значение не задано, то оно определяется согласно локали, в русской локали decimal - это запятая`,name:"decimal",required:!1,type:{name:"string"}},thousand:{defaultValue:null,description:`Символ разделителя между тысячами, используется при форматировании надписей к отметкам слайдера
Если значение не задано, то оно определяется согласно локали, в русской локали thousand - это пробел`,name:"thousand",required:!1,type:{name:"string"}},precision:{defaultValue:{value:"2"},description:"Точность (количество знаков в десятичной части числа), используется при форматировании надписей к отметкам слайдера",name:"precision",required:!1,type:{name:"number"}},tickMarks:{defaultValue:null,description:"Массив отметок",name:"tickMarks",required:!1,type:{name:"number[]"}},renderTickMark:{defaultValue:null,description:"Render колбек для отрисовки кастомизированных подписей к отметкам слайдера",name:"renderTickMark",required:!1,type:{name:"((mark: string) => ReactNode)"}},disabled:{defaultValue:{value:"false"},description:"Отключение компонента",name:"disabled",required:!1,type:{name:"boolean"}},dimension:{defaultValue:{value:"xl"},description:"Размер компонента",name:"dimension",required:!1,type:{name:"enum",value:[{value:'"m"'},{value:'"xl"'}]}},skeleton:{defaultValue:{value:"false"},description:"Состояние skeleton",name:"skeleton",required:!1,type:{name:"boolean"}},showTooltip:{defaultValue:{value:"false"},description:"Отобразить подсказку (Tooltip) текущего значения",name:"showTooltip",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/index.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/Slider/index.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/common/utils/throttle.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(arr){return _array_without_holes(arr)||_iterable_to_array(arr)||_unsupported_iterable_to_array(arr)||_non_iterable_spread()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}__webpack_require__.d(__webpack_exports__,{n:()=>throttle});var throttle=function(fn,delay){var timeout,wait=!1,cancelled=!1;return[function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(!cancelled&&!wait){var val=fn.apply(void 0,_to_consumable_array(args));return wait=!0,timeout=setTimeout(function(){wait=!1},delay),val}},function(){cancelled=!0,clearTimeout(timeout)}]}}}]);